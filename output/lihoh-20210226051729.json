{
    "CPU 상태 점검": [
        {
            "name": "Cpu core 수 점검",
            "command": "lscpu | grep 'CPU(s):' | grep -v NUMA | awk '{printf $2}'",
            "checkPoint": "대상 시스템의 CPU Core 수를 확인한다.",
            "response": ""
        },
        {
            "name": "Load Average 확인",
            "command": "cat /proc/loadavg | awk '{printf $1\" \"$2\" \"$3}'",
            "checkPoint": "User APP의  CPU 사용률을 확인하여 비정상/정상 유무를 판단한다.",
            "response": ""
        }
    ],
    "Service 상태 점검": [
        {
            "name": "Elasticsearch 상태 확인",
            "command": "ps -ef | grep elasticsearch | grep -v 'grep'",
            "checkPoint": "대상 시스템의 CPU Core 수를 확인한다.",
            "response": "Error Occure, Please check manually : "
        },
        {
            "name": "Elasticsearch Cluster 상태 확인",
            "command": "curl localhost:9200/_cluster/health?pretty",
            "checkPoint": "Elasticsearch Cluster 상태를 확인한다.",
            "response": "Error Occure, Please check manually :   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\ncurl: (7) Failed to connect to localhost port 9200: Connection refused\n"
        },
        {
            "name": "데이터 색인상태 확인",
            "command": "curl localhost:9200/_cat/indices?s=i:desc",
            "checkPoint": "정상적으로 데이터 색인 여부를 확인한다.",
            "response": "Error Occure, Please check manually :   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\ncurl: (7) Failed to connect to localhost port 9200: Connection refused\n"
        },
        {
            "name": "OpenQuery 상태 확인 ",
            "command": "./console list ",
            "checkPoint": "OpenQuery SE 서비스 활성화 여부를 확인한다.",
            "path": "/home/sop/openquery-management-console-2.4.6/bin/",
            "response": "no directory : /home/sop/openquery-management-console-2.4.6/bin/"
        }
    ],
    "Disk 상태 점검": [
        {
            "name": "시스템 디스크 용량 확인",
            "command": "df -h",
            "checkPoint": "현재 사용가능한 디스크 용량을 확인한다.",
            "response": "Filesystem                                     Size   Used  Avail Capacity iused      ifree %iused  Mounted on\n/dev/disk1s1                                  466Gi   10Gi  295Gi     4%  488473 4881964407    0%   /\ndevfs                                         200Ki  200Ki    0Bi   100%     703          0  100%   /dev\n/dev/disk1s2                                  466Gi  156Gi  295Gi    35% 2674523 4879778357    0%   /System/Volumes/Data\n/dev/disk1s5                                  466Gi  3.0Gi  295Gi     2%       3 4882452877    0%   /private/var/vm\nmap auto_home                                   0Bi    0Bi    0Bi   100%       0          0  100%   /System/Volumes/Data/home\n/Users/may-han/Downloads/Scroll Reverser.app  466Gi  156Gi  297Gi    35% 2657450 4879795430    0%   /private/var/folders/q2/prpmdzgj34x994jw8jr30c1m0000gn/T/AppTranslocation/A4D0279A-1D76-407E-898C-7DF3C2B6C215\n/dev/disk2s1                                   57Gi  387Mi   57Gi     1%       0          0  100%   /Volumes/NO NAME\n"
        },
        {
            "name": "Elasticsearch 색인 데이터 용량 확인",
            "command": "du -h --max-depth=1",
            "checkPoint": "색인 데이터의 전체 용량을 확인하여 Disk Full를 사전에 방지한다.",
            "path": "/home/sop/elastic/elasticsearch-6.5.4/",
            "response": "no directory : /home/sop/elastic/elasticsearch-6.5.4/"
        },
        {
            "name": "시스템 메모리 확인",
            "command": "free -g",
            "checkPoint": "사용 가능한 메모리 용량을 확인하여 Out Of Memory Error를 사전에 방지한다.",
            "response": "Error Occure, Please check manually : /bin/sh: free: command not found\n"
        }
    ],
    "Log 상태 점검": [
        {
            "name": "Elasticsearch log",
            "command": "zcat *.log.gz | grep ERROR",
            "response": "로그를 직접 확인해주세요.",
            "checkPoint": "Elasticsearch Log를 확인하여 ERROR가 발생했는지 확인한다"
        },
        {
            "name": "수집기 log",
            "command": "cat *.log | grep ERROR",
            "response": "로그를 직접 확인해주세요.",
            "checkPoint": "'수집기 log를 확인하여 ERROR가 발생했는지 확인한다. "
        },
        {
            "name": "openquery log ",
            "command": "./console logs",
            "response": "로그를 직접 확인해주세요.",
            "checkPoint": "Openquery Log를 확인하여 ERROR가 발생했는지 확인한다"
        }
    ]
}